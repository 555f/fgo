<!DOCTYPE html> <html> <head prefix="og: http://ogp.me/ns#"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <base href="https://jkawamoto.github.io/fgo/"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="generator" content="Hugo 0.18"> <title>Formula Go: Build, upload, and create brew formulae for golang applications.</title> <meta name="author" content="Junpei Kawamoto"> <meta name="description" content="Build, upload, and create brew formula for golang application."> <meta property="og:type" content="article"> <meta property="og:title" content="Formula Go: Build, upload, and create brew formulae for golang applications."> <meta name="og:description" content="Build, upload, and create brew formula for golang application."> <meta property="og:image" content="https://jkawamoto.github.io/fgo/img/image.png"> <meta property="og:site_name" content="Formula Go: Build, upload, and create brew formulae for golang applications."> <meta name="twitter:card" content="Build, upload, and create brew formula for golang application."> <meta name="twitter:site" content="@junkawamoto"> <link rel="shortcut icon" type="image/x-icon" href="https://jkawamoto.github.io/fgo/img/favicon.ico"> <link rel="icon" type="image/png" href="https://jkawamoto.github.io/fgo/img/icon_16.png" sizes="16x16"> <link rel="icon" type="image/png" href="https://jkawamoto.github.io/fgo/img/icon_32.png" sizes="32x32"> <link rel="icon" type="image/png" href="https://jkawamoto.github.io/fgo/img/icon_96.png" sizes="96x96"> <link href="https://jkawamoto.github.io/fgo/css/bootstrap.min.css" rel="stylesheet"> <link href="https://jkawamoto.github.io/fgo/css/landing-page.css" rel="stylesheet"> <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet"> <style>.navbar{border-color:#e7e7e7}.content-section-a,.navbar,footer{background-color:#f8f8f8;color:#333}.navbar a:link,.navbar-default .navbar-nav>li>a{color:#777}.navbar a:hover,.navbar-default .navbar-nav>li>a:hover{color:#333}.content-section-b{background-color:#fff;color:#333}body{color:#333}.header-container h1,.header-container h2,.header-container h3,.header-container h4{color:#333}</style> </head> <body> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-4734862314145555",enable_page_level_ads:!0})</script> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="page-scroll navbar-brand" href="#intro">Formula Go</a> </div> <div class="collapse navbar-collapse" id="bs-navbar-collapse-1"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="https://github.com/jkawamoto/fgo">Github</a></li> <li> <a class="page-scroll" href="https://www.jkawamoto.info/"> Junpei Kawamoto </a> </li> </ul> </div> </div> </nav> <section id="services"> <div class="content-section-a"> <div class="container"> <div class="row"> <div> <hr class="section-heading-spacer"> <div class="clearfix"></div> <h2 class="section-heading">Formula Go</h2> <p><a href="./info/licenses/"><img src="https://img.shields.io/badge/license-MIT-blue.svg?style=flat" alt="MIT License"></a> <a href="https://travis-ci.org/jkawamoto/fgo"><img src="https://travis-ci.org/jkawamoto/fgo.svg?branch=master" alt="Build Status"></a> <a href="https://app.wercker.com/project/byKey/9ab256a7b25d4d3980ed7821136b4177"><img src="https://app.wercker.com/status/9ab256a7b25d4d3980ed7821136b4177/s/master" alt="wercker status" title="wercker status"></a> <a href="https://goreportcard.com/report/github.com/jkawamoto/fgo"><img src="https://goreportcard.com/badge/github.com/jkawamoto/fgo" alt="go report"></a> <a href="https://github.com/jkawamoto/fgo/releases/tag/v0.2.5"><img src="https://img.shields.io/badge/release-0.2.5-brightgreen.svg" alt="Release"></a></p> <p>Formula Go helps you to build and upload your software written in <a href="https://golang.org/">Go</a>, and prepare a <a href="http://brew.sh/">homebrew</a> formula for it.</p> <p>Formula Go assumes your software is hosted in <a href="https://github.com/">GitHub</a>, and the pre-compiled binaries are uploaded in the release page of it.</p> <pre><code class="language-shell">fgo [global options] command [arguments...]

COMMANDS:
     init     create Makefile and other related directories.
     build    build binaries, upload them, and update the brew formula.
     update   update the brew formula.
     help, h  Shows a list of commands or help for one command

GLOBAL OPTIONS:
   --pkg NAME, -p NAME   overwrite directory NAME to store package files. (Default: pkg)
   --brew NAME, -b NAME  overwrite directory NAME to store homebrew formula. (Default: homebrew)
   --help, -h            show help
   --version, -v         print the version
</code></pre> <h3 id="initialization">Initialization</h3> <p>After starting your project, initialization is required. To initialize Formula Go, run <code>fgo init</code>. It creates a Makefile, which will be used to compile your project, and a template of homebrew formula. If a Makefile or a template of homebrew formula already exist, fgo won&rsquo;t overwrite them.</p> <p>To create the template of homebrew formula, a user name and a repository name in GitHub is required. By default, fgo checks your git configuration to get those information but you can given them by the arguments.</p> <p>If your git configuration doesn&rsquo;t have both information and you don&rsquo;t give them as the arguments, this command will skip to create the template. In this case, you need to re-run init command after setting git configuration.</p> <p>You can edit the Makefile and the template of homebrew formula, but build and release targets are necessary to run build command.</p> <h3 id="build-and-upload">Build and upload</h3> <p><code>fgo build [version]</code> runs build and release targets in the Makefile to build your software and upload the binary files to GitHub. This command takes an argument, version, which specifies the version to be created. If it is omitted, &ldquo;snapshot&rdquo; will be used and uploading will be skipped.</p> <p>This command also updates the homebrew formula. After finishing this command, you need to push the updated formula.</p> <p>This command takes the following option flags:</p> <h4 id="t-token"><strong>-t, &ndash;token</strong></h4> <p>This flag specifies a GitHub API token used to upload binaries and create a release page. If this flag is not given but <code>GITHUB_TOKEN</code> environment variable has been set, the environment variable will be used.</p> <p>If neither this flag nor <code>GITHUB_TOKEN</code> are given, <code>github.token</code> variable in your <code>.gitconfig</code> will be used.</p> <h4 id="b-body"><strong>-b, &ndash;body</strong></h4> <p>This flag specifies a release note for the given version.</p> <p>If this flag isn&rsquo;t given but your <code>CHANGELOG.md</code> contains a release note associated with that version, the release note will be used.</p> <h4 id="p-process"><strong>-p, &ndash;process</strong></h4> <p>This flag specifies how many goroutines will be used to upload binaries. The default number is as same as the number of CPUs.</p> <h4 id="delete"><strong>&ndash;delete</strong></h4> <p>If this flag is set and there is a release for the given version, the release will be deleted and a new release for the given version will be created.</p> <h4 id="draft"><strong>&ndash;draft</strong></h4> <p>If this flag is set, the new release won&rsquo;t be published and will be kept as a draft.</p> <h4 id="pre"><strong>&ndash;pre</strong></h4> <p>If this flag is set, the new release will be marked as a prerelease.</p> <h3 id="update">Update</h3> <p><code>fgo update [version]</code> updates the homebrew formula for a given version. build command updates the homebrew formula but sometimes you may need to re-update it to a specific version. This command do that.</p> <h2 id="installation">Installation</h2> <pre><code class="language-shell">$ brew tap jkawamoto/fgo
$ brew install fgo
</code></pre> <p>Formula Go requires make, <a href="https://github.com/laher/goxc">goxc</a>, and <a href="https://github.com/tcnksm/ghr">ghr</a>. The above <code>brew install</code> command also installs those dependencies if necessary.</p> <h2 id="license">License</h2> <p>This software is released under the MIT License, see <a href="./info/licenses/">LICENSE</a>.</p> </div> </div> </div> </div> </section> <footer> <div class="container"> <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-4734862314145555" data-ad-slot="4875187824"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-4734862314145555" data-ad-slot="4875187824"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </div> <div class="container"> <div class="row"> <div class="col-md-3"> <h4>Contact information</h4> <div class="addthis_inline_follow_toolbox"></div> </div> <div class="col-md-7"> <p class="copyright text-muted small"> Copyright &copy; Junpei Kawamoto All Rights Reserved.<br> </p> </div> <div class="col-md-2"> <script data-gratipay-username="jkawamoto" src="//grtp.co/v1.js"></script> </div> </div> </div> </footer> <script src="js/jquery-2.2.0.min.js"></script> <script src="js/jquery.easing-1.3.min.js"></script> <script src="js/bootstrap.min.js"></script> <script src="js/landing-page.js"></script> <script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-82315630-1","auto"),ga("send","pageview")</script> <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/agate.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad()</script> <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-57f529147128b1fb"></script> </body> </html> 